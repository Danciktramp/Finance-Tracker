(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=document.getElementById(`incomeBt`),t=document.getElementById(`expenseBt`),n=document.getElementById(`addTransactionBt`),r=document.getElementById(`inputDescription`),i=document.getElementById(`inputCategory`),a=document.getElementById(`inputAmount`),o=localStorage.getItem(`transactions`),s=null,c=[],l=document.getElementById(`expenseValue`),u=document.getElementById(`incomeValue`),d=document.getElementById(`balanceValue`),f=0,p=0,m=0,h=document.getElementById(`transactionsList`),g=new Date;document.getElementById(`iconDelete`);var _=document.getElementById(`plusPanel`),v=document.getElementById(`plusBt`);document.body;var y=document.getElementById(`overlay`),b=document.getElementById(`categoryAdd`);document.getElementById(`subcategoryAdd`);var x=document.getElementById(`addFinanceCategory`),S=JSON.parse(localStorage.getItem(`categories`))||[{id:1,type:`expense`,name:`food`,subcategories:[]},{id:2,type:`income`,name:`salary`,subcategories:[]}],C=document.getElementById(`inputAddCategory`),w=document.getElementById(`addCategoryBt`);g.toLocaleString(`ro-RO`,{year:`numeric`,month:`long`,day:`numeric`});var T=g.toLocaleString(`ro-RO`,{hour:`2-digit`,minute:`2-digit`});console.log(T),o&&(c=JSON.parse(o)),E(),D(),e.addEventListener(`click`,()=>{document.getElementById(`incomeBt`).style.backgroundColor=`#31F527`,document.getElementById(`expenseBt`).style.backgroundColor=`white`,s=`income`,console.log(s)}),t.addEventListener(`click`,()=>{document.getElementById(`incomeBt`).style.backgroundColor=`white`,document.getElementById(`expenseBt`).style.backgroundColor=`red`,s=`expense`,console.log(s)}),n.addEventListener(`click`,()=>{event.preventDefault();let e=new Date,t=e.toLocaleString(`ro-RO`,{year:`numeric`,month:`long`,day:`numeric`}),n=e.toLocaleString(`ro-RO`,{hour:`2-digit`,minute:`2-digit`}),i=Number(a.value),o=r.value,l=j;if(!s){alert(`nu ai selectat tipul de tranzactie`);return}let u={id:Date.now(),type:s,amount:i,description:o,category:l,time:n,date:t};console.log(`Tip:`,s,`Sumă:`,i,`Descriere:`,o,`Categorie:`,l),c.push(u),console.log(c),localStorage.setItem(`transactions`,JSON.stringify(c)),E(),D()});function E(){f=0,p=0,p-m;for(let e=0;e<c.length;e++){let t=c[e];console.log(t),t.type===`expense`?f+=t.amount:t.type===`income`&&(p+=t.amount)}m=p-f,console.log(f),l.innerHTML=f+`MDL`,u.innerHTML=p+`MDL`,d.innerHTML=m+`MDL`}function D(){h.innerHTML=``;for(let e=0;e<c.length;e++){let t=c[e],n=document.createElement(`div`);n.className=`flex items-center p-3 mb-2 bg-white rounded-lg shadow-sm gap-4 mx-3`;let r=t.type===`expense`?`text-red-500`:`text-green-500`;n.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-10 h-10 ${r}">
        <path fill-rule="evenodd" d="${t.type===`expense`?`M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-.53 14.03a.75.75 0 0 0 1.06 0l3-3a.75.75 0 1 0-1.06-1.06l-1.72 1.72V8.25a.75.75 0 0 0-1.5 0v5.69l-1.72-1.72a.75.75 0 0 0-1.06 1.06l3 3Z`:`M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm.53 7.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72v5.69a.75.75 0 0 0 1.5 0v-5.69l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z`}" clip-rule="evenodd" />
      </svg>

      <div class="flex flex-col flex-grow">
        <span class="font-bold text-gray-800 text-lg leading-tight">${t.category}</span>
        <span class="text-xs text-gray-400">${t.date} | ${t.time}</span>
      </div>

      <div class="text-right font-bold ${r} text-xs">
        ${t.type===`expense`?`-`:`+`} ${t.amount} MDL
      </div>
      <button onclick="deleteTransaction(${t.id})" class="ml-4 text-gray-400 hover:text-red-500 transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6" id="iconDelete">
  <path fill-rule="evenodd" d="M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z" clip-rule="evenodd" />
</svg>
    </button>

    `,h.prepend(n)}}window.deleteTransaction=function(e){let t=Number(e);c=c.filter(e=>e.id!==t),localStorage.setItem(`transactions`,JSON.stringify(c)),E(),D()},v.addEventListener(`click`,()=>{_.classList.toggle(`hidden`),y.classList.toggle(`hidden`)}),w.addEventListener(`click`,()=>{let e=C.value.trim(),t=document.getElementById(`selectType`).value;if(!e)return alert(`Didnt select a name for category`);let n={id:Date.now(),type:t,name:e,subcategories:[]};S.push(n),C.value=``,console.log(S),localStorage.setItem(`categories`,JSON.stringify(S))}),document.getElementById(`cancelBt`).addEventListener(`click`,()=>{x.classList.toggle(`hidden`)}),b.addEventListener(`click`,()=>{x.classList.toggle(`hidden`)});var O=document.getElementById(`categoryModal`),k=document.getElementById(`categoryGrid`),A=document.getElementById(`closeModal`),j=``;i.addEventListener(`click`,e=>{if(e.preventDefault(),!s){alert(`Te rugăm să selectezi mai întâi Income sau Expense!`);return}k.innerHTML=``,O.classList.remove(`hidden`),S.filter(e=>e.type===s).forEach(e=>{let t=document.createElement(`button`);t.className=`p-2 bg-blue-100 rounded-lg hover:bg-blue-500 hover:text-white transition-all`,t.innerText=e.name,t.onclick=()=>{j=e.name,i.querySelector(`span`).innerText=e.name,O.classList.add(`hidden`)},k.appendChild(t)})}),A.onclick=()=>O.classList.add(`hidden`);